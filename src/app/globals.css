@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
    --theme-transition-x: 50vw;
    --theme-transition-y: 50vh;
    --theme-transition-duration: 1s;
    --expo-out: cubic-bezier(0.16, 1, 0.3, 1);
}

@property --theme-transition-radius {
    syntax: "<length-percentage>";
    inherits: false;
    initial-value: 0px;
}

:root {
    view-transition-name: root;
}

body {
    view-transition-name: none;
}

@supports (view-transition-name: root) {
    ::view-transition-group(root) {
        animation-timing-function: var(--expo-out);
    }

    ::view-transition-new(root) {
        --theme-transition-radius: 0px;
        clip-path: circle(var(--theme-transition-radius) at var(--theme-transition-x) var(--theme-transition-y));
        animation: theme-switch-reveal var(--theme-transition-duration) var(--expo-out) forwards;
        z-index: 1;
    }

    ::view-transition-old(root),
    .dark::view-transition-old(root) {
        animation: theme-switch-fade var(--theme-transition-duration) var(--expo-out) forwards;
        z-index: 0;
    }

    @keyframes theme-switch-reveal {
        to {
            --theme-transition-radius: 150vmax;
        }
    }

    @keyframes theme-switch-fade {
        from {
            opacity: 1;
        }

        60% {
            opacity: 1;
        }

        to {
            opacity: 0;
        }
    }

    @media (prefers-reduced-motion: reduce) {
        ::view-transition-group(root),
        ::view-transition-new(root),
        ::view-transition-old(root),
        .dark::view-transition-old(root) {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1;
            animation-fill-mode: both;
        }
    }
}

.light {
    --scrollbar: theme('colors.theme.500');
    --scrollbar-bg: theme('colors.theme.200');
}

.dark {
    --scrollbar: theme('colors.theme.500');
    --scrollbar-bg: theme('colors.theme.800');
}

/* Base scrollbar hiding for all devices */
.no-scrollbar::-webkit-scrollbar {
    display: none;
}

.no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
}

/* Device-specific scrollbar handling */
@media (hover: hover) {
    /* Only apply to devices with hover capability (typically desktop/laptop) */
    ::-webkit-scrollbar {
        display: none;
    }

    * {
        scrollbar-width: none;
    }

    /* Custom scrollbar container */
    .custom-scrollbar {
        @apply fixed right-0 top-0;
        width: 6px;
        height: 100vh;
        background-color: var(--scrollbar-bg);
        z-index: 50;
        pointer-events: none;
        display: block;
    }
}

/* Mobile and tablet specific styles */
@media (hover: none) {
    /* Hide custom scrollbar on touch devices */
    .custom-scrollbar {
        display: none;
    }

    /* Let the native scrollbar show on touch devices */
    ::-webkit-scrollbar {
        display: block;
    }

    * {
        scrollbar-width: auto;
    }
}

code {
    word-break: break-all;
}